/* =========================================
   KERSIVO — PACKAGES
   Readable spotlight (NO blur on text).
   Overlay pop-out column that can escape scroll clipping.
   ========================================= */

.k-pack{
  position: relative;
  overflow: hidden;
}

/* -------------------------
   Section heading (outside islands)
   ------------------------- */
.k-pack__head{
  text-align: center;
  margin: 0 auto 16px;
  max-width: 86ch;
}

.k-pack__kicker{
  font-size: 12px;
  letter-spacing: .18em;
  text-transform: uppercase;
  color: rgba(255,255,255,.60);
  margin-bottom: 10px;
}

.k-pack__title{
  margin: 0;
  font-size: var(--h2);
  line-height: 1.06;
  letter-spacing: var(--track-tight);
}

.k-pack__grad{
  display: block;
  margin-top: 6px;
  background: linear-gradient(90deg, rgba(140,170,255,1), rgba(210,150,255,1));
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.k-pack__lead{
  margin: 12px auto 0;
  max-width: var(--measure);
  color: rgba(255,255,255,.74);
  font-size: var(--p);
  line-height: 1.55;
}

/* pills wrapper under heading */
.k-pack__tabs{
  margin-top: 14px;
  display: grid;
  justify-items: center;
}

/* -------------------------
   Mode pills (island)
   ------------------------- */
.k-packPillsWrap{
  margin-top: 0;
  display: grid;
  gap: 10px;
}
.k-packPillsWrap--center{ justify-items: center; }

.k-packPills{
  position: relative;
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.22);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  width: fit-content;
  max-width: 100%;
}

.k-packPillsRail{
  position: absolute;
  left: 6px;
  top: 6px;
  height: calc(100% - 12px);
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 18px 60px rgba(0,0,0,.28);
  pointer-events: none;
}

.k-packPill{
  position: relative;
  border: 0;
  background: transparent;
  color: rgba(255,255,255,.72);
  font-weight: 800;
  font-size: 12px;
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  transition: color 160ms ease, transform 160ms cubic-bezier(.2,.8,.2,1);
}
.k-packPill:hover{ color: rgba(255,255,255,.92); transform: translateY(-1px); }
.k-packPill.is-on{ color: rgba(255,255,255,.94); }

.k-packHint{ color: rgba(255,255,255,.62); font-size: 12px; }
.k-packHint--center{ text-align: center; }

/* -------------------------
   Card wrapper (island)
   ------------------------- */
.k-packCard{
  position: relative;
  border-radius: 28px;
  padding: 0;
  border: 1px solid rgba(255,255,255,.10);
  background:
    radial-gradient(1200px 720px at 18% 6%, rgba(190,145,255,.18), transparent 58%),
    radial-gradient(900px 620px at 82% 22%, rgba(120,190,255,.14), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.06), rgba(0,0,0,.14));
  box-shadow:
    0 40px 140px rgba(0,0,0,.55),
    0 1px 0 rgba(255,255,255,.06) inset;
  overflow: visible;
  margin-top: 14px;
}

/* Stage: pop-out playground */
.k-packStage{
  position: relative;
  border-radius: 28px;
  overflow: visible;
}

/* Scroll: keeps horizontal scroll */
.k-packScroll{
  overflow-x: auto;
  overflow-y: hidden;
  -webkit-overflow-scrolling: touch;
  overscroll-behavior-x: contain;
  border-radius: 28px;
  box-shadow: 0 0 0 1px rgba(255,255,255,.05) inset;
}

/* Optional scroll bar */
.k-packScroll::-webkit-scrollbar{ height: 10px; }
.k-packScroll::-webkit-scrollbar-track{ background: rgba(255,255,255,.04); }
.k-packScroll::-webkit-scrollbar-thumb{
  background: rgba(255,255,255,.10);
  border-radius: 999px;
}
.k-packScroll::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.14); }

/* Grid */
.k-packTable{
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(240px, 1fr);
  min-width: 980px;
}

/* Columns */
.k-packCol{
  position: relative;
  border-right: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.10);
}
.k-packCol:last-child{ border-right: 0; }

/* Labels column sticky */
.k-packCol--labels{
  min-width: 220px;
  background: rgba(0,0,0,.16);
  position: sticky;
  left: 0;
  z-index: 6;
}

/* Top cells */
.k-packTopCell{
  padding: 14px 14px 12px;
  border-bottom: 1px solid rgba(255,255,255,.08);
  min-height: 96px;
  display: grid;
  align-content: center;
  gap: 6px;
}

.k-packTopCell--labels{
  color: rgba(255,255,255,.78);
  font-weight: 850;
}

.k-packTierName{
  color: rgba(255,255,255,.92);
  font-weight: 900;
  letter-spacing: -0.02em;
}

.k-packTierPrice{
  color: rgba(255,255,255,.74);
  font-size: 13px;
  font-weight: 750;
}

/* Buy CTA — NO blur */
.k-packBuy{
  margin-top: 8px;
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;

  height: 42px;
  padding: 0 14px;
  border-radius: 999px;

  color: rgba(255,255,255,.92);
  text-decoration: none;

  border: 1px solid rgba(255,255,255,.14);
  background: rgba(0,0,0,.28);
  overflow: hidden;

  transition:
    transform 180ms cubic-bezier(.2,.8,.2,1),
    border-color 180ms ease,
    box-shadow 180ms ease,
    background 180ms ease;
}

.k-packBuy:hover{
  transform: translateY(-1px);
  border-color: rgba(255,255,255,.22);
  background: rgba(0,0,0,.34);
  box-shadow: 0 18px 60px rgba(0,0,0,.30);
}

.k-packBuyText{ font-weight: 850; font-size: 12px; }
.k-packBuyArrow{ opacity: .9; transition: transform 220ms cubic-bezier(.2,.9,.2,1); }
.k-packBuy:hover .k-packBuyArrow{ transform: translateX(2px); }

/* Shine layer only */
.k-packBuyShine{
  position: absolute;
  inset: -40% -25%;
  background: radial-gradient(closest-side at 50% 50%, rgba(255,255,255,.35), transparent 72%);
  opacity: 0;
  filter: blur(10px);
  transform: translateX(-34%);
  transition: opacity 200ms ease, transform 520ms cubic-bezier(.2,.9,.2,1);
  pointer-events: none;
}
.k-packBuy:hover .k-packBuyShine{
  opacity: .45;
  transform: translateX(34%);
}

/* Rows / cells */
.k-packCells{ display: grid; }

.k-packCell{
  padding: 12px 14px;
  border-bottom: 1px solid rgba(255,255,255,.07);
  color: rgba(255,255,255,.82);
  font-size: 13px;
  line-height: 1.35;
}
.k-packCell:last-child{ border-bottom: 0; }

.k-packCell--label{
  color: rgba(255,255,255,.66);
  font-weight: 750;
}

.k-packCellHint{
  display: block;
  margin-top: 6px;
  font-size: 12px;
  color: rgba(255,255,255,.45);
}

/* =========================================
   Base tier ring system (for table only)
   ========================================= */
.k-packCol--tier{
  outline: none;
  transform: translateZ(0);
  will-change: transform;
  transform-origin: center 18%;
}

.k-packCol--tier > *{ position: relative; z-index: 2; }

.k-packCol--tier::before{
  content:"";
  position:absolute;
  inset: 0;
  pointer-events:none;
  opacity: 0;
  transition: opacity 160ms ease;
  background: rgba(0,0,0,.26);
}

.k-packCol--tier::after{
  content:"";
  position:absolute;
  inset: 6px;
  border-radius: 18px;
  pointer-events:none;
  opacity: 0;
  transition: opacity 160ms ease;

  box-shadow:
    0 0 0 1px rgba(255,255,255,.20) inset,
    0 1px 0 rgba(255,255,255,.12) inset;
  background: linear-gradient(180deg, rgba(255,255,255,.06), transparent 55%);
}

.k-packCol--tier:hover::before{ opacity: .45; }
.k-packCol--tier:hover::after{ opacity: .55; }

/* Active is mostly visual in overlay mode — keep minimal in table */
.k-packCol--tier.is-active{
  z-index: 10;
}
.k-packCol--tier.is-active::before{ opacity: .55; }
.k-packCol--tier.is-active::after{ opacity: .75; }

/* mint tint for scale (table only) */
.k-packCol--tier.is-mint.is-active::after{
  box-shadow:
    0 0 0 1px rgba(120,255,210,.18) inset,
    0 1px 0 rgba(255,255,255,.10) inset;
}

/* =========================================
   Overlay layer (the REAL pop-out card)
   ONE card only: disable pseudo rings + set filled bg
   ========================================= */
.k-packOverlayLayer{
  position: absolute;
  inset: 0;
  z-index: 200;
  pointer-events: none;
}

.k-packOverlayCol{
  position: absolute;
  pointer-events: auto;
  border-right: 0 !important;
  border-radius: 22px;
  overflow: hidden;

  /* filled surface */
  background:
    radial-gradient(900px 520px at 40% 10%, rgba(140,170,255,.14), transparent 58%),
    radial-gradient(720px 520px at 82% 22%, rgba(210,150,255,.12), transparent 62%),
    linear-gradient(180deg, rgba(20,22,30,.92), rgba(8,10,14,.92));

  /* single frame */
  box-shadow:
    0 60px 180px rgba(0,0,0,.78),
    0 0 0 1px rgba(255,255,255,.16) inset,
    0 1px 0 rgba(255,255,255,.10) inset;

  border: 0 !important;
}

/* kill the table ring system on overlay */
.k-packOverlayCol::before,
.k-packOverlayCol::after{
  content: none !important;
  display: none !important;
}

/* stronger separators inside overlay for readability */
.k-packOverlayCol .k-packTopCell{
  border-bottom: 1px solid rgba(255,255,255,.10);
  background: transparent;
}
.k-packOverlayCol .k-packCell{
  border-bottom: 1px solid rgba(255,255,255,.09);
  background: transparent;
}

/* Hide the real active column so it doesn't double-render */
.k-packCol--tier.is-hidden{
  opacity: 0;
}
.k-packCol--tier.is-hidden *{
  pointer-events: none;
}
.k-packCol--tier.is-hidden::before,
.k-packCol--tier.is-hidden::after{
  opacity: 0 !important;
}

/* Dust sparkle */
.k-packDust{
  position: absolute;
  inset: -1px;
  pointer-events: none;
  mix-blend-mode: screen;
  opacity: .75;
  background:
    radial-gradient(2px 2px at 12% 24%, rgba(255,255,255,.22), transparent 60%),
    radial-gradient(2px 2px at 18% 62%, rgba(255,255,255,.16), transparent 60%),
    radial-gradient(2px 2px at 74% 30%, rgba(255,255,255,.18), transparent 60%),
    radial-gradient(2px 2px at 82% 66%, rgba(255,255,255,.14), transparent 60%),
    radial-gradient(2px 2px at 46% 78%, rgba(255,255,255,.12), transparent 60%);
}

/* Ghost link below island (outside) */
.k-pack__below{
  margin-top: 14px;
  display: flex;
  justify-content: flex-end;
}

.k-packGhost{
  color: rgba(255,255,255,.72);
  text-decoration: none;
  font-weight: 800;
  font-size: 13px;
  padding: 10px 12px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.18);
  transition:
    transform 180ms cubic-bezier(.2,.8,.2,1),
    border-color 180ms ease,
    background 180ms ease;
}
.k-packGhost:hover{
  transform: translateY(-1px);
  border-color: rgba(190,145,255,.20);
  background: rgba(255,255,255,.03);
}

/* Responsive + motion safety */
@media (max-width: 720px){
  .k-pack__below{ justify-content: flex-start; }
  .k-packTable{ min-width: 940px; }
}

@media (prefers-reduced-motion: reduce){
  .k-packPill,
  .k-packBuy,
  .k-packGhost{
    transition: none !important;
    transform: none !important;
  }
  .k-packBuyShine{ opacity: 0 !important; }

  .k-packCol--tier::before,
  .k-packCol--tier::after{
    transition: none !important;
  }
}
/* =========================================
   Smart grow animation (overlay)
   - cursor spotlight via --mx/--my
   - one-shot sheen sweep
   ========================================= */

.k-packOverlayCol{
  --mx: 50%;
  --my: 22%;
  transform-origin: center 18%;
}

/* spotlight that follows pointer (NO blur on text) */
.k-packOverlayCol::before{
  content:"";
  position:absolute;
  inset:-1px;
  pointer-events:none;
  opacity: .95;
  background:
    radial-gradient(520px 360px at var(--mx) var(--my), rgba(255,255,255,.10), transparent 60%),
    radial-gradient(900px 520px at 40% 10%, rgba(140,170,255,.14), transparent 58%),
    radial-gradient(720px 520px at 82% 22%, rgba(210,150,255,.12), transparent 62%),
    linear-gradient(180deg, rgba(20,22,30,.92), rgba(8,10,14,.92));
}

/* sheen sweep (one-shot) */
.k-packOverlayCol::after{
  content:"";
  position:absolute;
  inset:-40% -30%;
  pointer-events:none;
  opacity:.0;
  transform: translateX(-26%) rotate(8deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.14), transparent);
  filter: blur(12px);
  animation: k-pack-sheen 920ms cubic-bezier(.2,.9,.2,1) 1;
}

@keyframes k-pack-sheen{
  0%{ opacity:0; transform: translateX(-28%) rotate(8deg); }
  18%{ opacity:.55; }
  60%{ opacity:.25; }
  100%{ opacity:0; transform: translateX(28%) rotate(8deg); }
}

/* make hidden “real” column truly invisible */
.k-packCol--tier.is-hidden{
  opacity: 0;
}
.k-packCol--tier.is-hidden *{ pointer-events:none; }
.k-packCol--tier.is-hidden::before,
.k-packCol--tier.is-hidden::after{ opacity: 0 !important; }

/* reduced motion: kill the sheen */
@media (prefers-reduced-motion: reduce){
  .k-packOverlayCol::after{ animation: none !important; opacity: 0 !important; }
}
/* =========================================
   Premium hover motion (no resets)
   ========================================= */

/* overlay should never steal hover from columns */
.k-packOverlayCol{
  pointer-events: none;
  position: absolute;
  border-radius: 22px;
  overflow: hidden;
  border: 0 !important;

  /* intensity */
  --mx: 50%;
  --my: 22%;
  --p: .75;

  /* filled surface */
  background:
    radial-gradient(520px 360px at var(--mx) var(--my), rgba(255,255,255, calc(.12 * var(--p))), transparent 62%),
    radial-gradient(900px 520px at 40% 10%, rgba(140,170,255, calc(.14 * var(--p))), transparent 58%),
    radial-gradient(720px 520px at 82% 22%, rgba(210,150,255, calc(.12 * var(--p))), transparent 62%),
    linear-gradient(180deg, rgba(20,22,30,.92), rgba(8,10,14,.92));

  box-shadow:
    0 60px 180px rgba(0,0,0,.78),
    0 0 0 1px rgba(255,255,255,.16) inset,
    0 1px 0 rgba(255,255,255,.10) inset;
}

/* tiny sheen pulse on every move/enter (subtle) */
.k-packOverlayCol::after{
  content:"";
  position:absolute;
  inset:-40% -30%;
  opacity: .0;
  transform: translateX(-26%) rotate(8deg);
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.12), transparent);
  filter: blur(12px);
  animation: k-pack-sheen 920ms cubic-bezier(.2,.9,.2,1) 1;
  pointer-events:none;
}

@keyframes k-pack-sheen{
  0%{ opacity:0; transform: translateX(-28%) rotate(8deg); }
  18%{ opacity:.45; }
  60%{ opacity:.18; }
  100%{ opacity:0; transform: translateX(28%) rotate(8deg); }
}

/* columns: smooth “recede” without layout shift */
.k-packCol--tier{
  transition:
    transform 220ms cubic-bezier(.2,.9,.2,1),
    filter 220ms ease,
    opacity 220ms ease;
  will-change: transform;
}

.k-packStage[data-hover="1"] .k-packCol--tier{
  transform: translateY(1px) scale(.985);
  filter: saturate(.92) contrast(.98);
  opacity: .92;
}

/* keep the active tier crisp and confident */
.k-packStage[data-hover="1"] .k-packCol--tier[data-tier="starter"],
.k-packStage[data-hover="1"] .k-packCol--tier[data-tier="growth"],
.k-packStage[data-hover="1"] .k-packCol--tier[data-tier="scale"]{
  /* default already set above */
}

/* active tier (matches overlay) slightly up */
.k-packStage[data-active="starter"] .k-packCol--tier[data-tier="starter"],
.k-packStage[data-active="growth"]  .k-packCol--tier[data-tier="growth"],
.k-packStage[data-active="scale"]   .k-packCol--tier[data-tier="scale"]{
  transform: translateY(-1px) scale(1);
  filter: saturate(1) contrast(1);
  opacity: 1;
}

/* reduced motion safety */
@media (prefers-reduced-motion: reduce){
  .k-packCol--tier{ transition: none !important; }
  .k-packOverlayCol::after{ animation: none !important; opacity: 0 !important; }
}
