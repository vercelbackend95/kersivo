/* =========================================
   Kersivo — Process
   Card → air → line → air → card
   + orb with ink trail + reactive tail
   ========================================= */

.k-process{}

/* head */
.k-process__head{
  margin-bottom: clamp(18px, 2.6vw, 28px);
}

/* layout: list + orb column */
.k-process__layout{
  display: grid;
  grid-template-columns: 1fr 54px;
  gap: clamp(16px, 2.2vw, 24px);
  align-items: start;
}

@media (max-width: 900px){
  .k-process__layout{ grid-template-columns: 1fr 42px; }
}

@media (max-width: 560px){
  .k-process__layout{ grid-template-columns: 1fr; }
  .k-process__orbCol{ display: none; }
}

/* =========================
   List + separator spacing
   ========================= */

.k-process__list{
  /* controls “~50px on eye” spacing */
  --procSep: clamp(26px, 4.8vw, 54px);

  display: flex;
  flex-direction: column;
}

/* hairline between cards, with air around it */
.k-procSep{
  height: 1px;
  margin-block: var(--procSep);
  background: rgba(255,255,255,.12);

  /* premium fade at edges */
  mask-image: linear-gradient(to right,
    transparent 0%,
    #000 8%,
    #000 92%,
    transparent 100%);
}

/* =========================
   Bubble card (each step)
   ========================= */

.k-procRow{
  position: relative;
}

/* the card itself */
.k-procRow__inner{
  display: grid;
  grid-template-columns: 1.1fr 0.9fr;
  gap: clamp(16px, 2.4vw, 26px);

  padding: clamp(16px, 2.2vw, 22px);
  border-radius: 18px;

  background: linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,.015));
  border: 1px solid rgba(255,255,255,.10);
  box-shadow:
    0 30px 120px rgba(0,0,0,.25),
    0 0 0 1px rgba(255,255,255,.05) inset;
}

@media (max-width: 860px){
  .k-procRow__inner{ grid-template-columns: 1fr; }
}

/* =========================
   Media panel (left)
   ========================= */

.k-procMedia{
  position: relative;
  border-radius: 18px;
  isolation: isolate;
}

.k-procMedia__glow{
  position: absolute;
  inset: -22px;
  border-radius: 22px;
  filter: blur(18px);
  opacity: .75;
  pointer-events: none;
  z-index: 0;
}

.k-procMedia__frame{
  position: relative;
  z-index: 1;

  border-radius: 18px;
  overflow: hidden;

  background: rgba(10,10,14,.62);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow:
    0 30px 120px rgba(0,0,0,.35),
    0 0 0 1px rgba(255,255,255,.06) inset;
}

.k-procMedia__topbar{
  height: 44px;
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 12px;

  background: rgba(255,255,255,.04);
  border-bottom: 1px solid rgba(255,255,255,.08);
}

.k-procDot{
  width: 8px;
  height: 8px;
  border-radius: 999px;
  background: rgba(255,255,255,.18);
}

.k-procMedia__label{
  margin-left: 8px;
  font-size: 12.5px;
  color: rgba(255,255,255,.72);
  letter-spacing: -0.01em;
  white-space: nowrap;
}

.k-procMedia__canvas{
  position: relative;
  padding: 18px;
  min-height: clamp(190px, 18vw, 240px);
  display: grid;
  place-items: center;
  overflow: hidden;
}

/* “UI collage” bits */
.k-procCard{
  position: absolute;
  border-radius: 14px;
  background: rgba(255,255,255,.06);
  border: 1px solid rgba(255,255,255,.14);
  backdrop-filter: blur(10px);
  box-shadow: 0 24px 90px rgba(0,0,0,.28);
  padding: 12px;
}

.k-procCard__title{
  font-size: 12px;
  color: rgba(255,255,255,.80);
  font-weight: 650;
  letter-spacing: -0.01em;
  margin-bottom: 10px;
}

.k-procCard__row{
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid rgba(255,255,255,.10);
}
.k-procCard__row + .k-procCard__row{ margin-top: 8px; }

.k-procPill{
  height: 28px;
  border-radius: 999px;
  background: rgba(255,255,255,.07);
  border: 1px solid rgba(255,255,255,.12);
}
.k-procPill + .k-procPill{ margin-top: 10px; }

.k-procCard--a{
  width: min(260px, 72%);
  left: 16px;
  top: 18px;
}

.k-procCard--b{
  width: min(210px, 62%);
  right: 16px;
  bottom: 18px;
}

/* ring */
.k-procRing{
  position: absolute;
  right: 22px;
  top: 50%;
  transform: translateY(-50%);

  width: 94px;
  height: 94px;
  border-radius: 999px;

  display: grid;
  place-items: center;

  background:
    radial-gradient(circle at 50% 50%, rgba(0,0,0,.35), rgba(0,0,0,0)),
    conic-gradient(from 210deg, rgba(255,255,255,.10), rgba(255,255,255,.26), rgba(255,255,255,.10));
  border: 1px solid rgba(255,255,255,.14);
  box-shadow: 0 26px 100px rgba(0,0,0,.32);
}

.k-procRing::before{
  content:"";
  position:absolute;
  inset: 10px;
  border-radius: inherit;
  background: rgba(10,10,14,.72);
  border: 1px solid rgba(255,255,255,.10);
}

.k-procRing__val{
  position: relative;
  z-index: 1;
  font-size: 18px;
  font-weight: 780;
  letter-spacing: -0.02em;
  color: rgba(255,255,255,.92);
}

.k-procRing__lbl{
  position: relative;
  z-index: 1;
  margin-top: -6px;
  font-size: 11px;
  color: rgba(255,255,255,.70);
}

/* tone glows */
.k-procMedia--tone-sky .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(110,160,255,.35), transparent 62%);
}
.k-procMedia--tone-violet .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(190,105,255,.32), transparent 62%);
}
.k-procMedia--tone-blue .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(90,140,255,.30), transparent 62%);
}
.k-procMedia--tone-mint .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(120,255,220,.18), transparent 62%);
}
.k-procMedia--tone-pink .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(255,160,220,.22), transparent 62%);
}
.k-procMedia--tone-amber .k-procMedia__glow{
  background: radial-gradient(700px 380px at 35% 25%, rgba(255,210,150,.16), transparent 62%);
}

/* =========================
   Text panel (right)
   ========================= */

.k-procText{
  padding: 4px 0;
  align-self: center;
}

.k-procNo{
  font-size: 34px;
  font-weight: 880;
  letter-spacing: -0.06em;
  color: rgba(255,255,255,.92);
  margin-bottom: 10px;
}

.k-procTitle{
  font-size: clamp(18px, 1.6vw, 22px);
  font-weight: 780;
  letter-spacing: -0.03em;
  color: rgba(255,255,255,.94);
  margin: 0 0 10px;
}

.k-procBody{
  color: rgba(255,255,255,.74);
  max-width: 54ch;
}

.k-procChips{
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  margin-top: 14px;
}

.k-procChip{
  height: 34px;
  padding: 0 14px;
  border-radius: 999px;

  display: inline-flex;
  align-items: center;

  font-size: 13px;
  font-weight: 560;
  letter-spacing: 0.01em;

  color: rgba(255,255,255,.80);
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.12);
  backdrop-filter: blur(10px);
}

/* =========================
   Right scroll orb (only in this section)
   ========================= */

.k-process__orbCol{
  position: relative;
}

.k-process__orbSticky{
  position: sticky;
  top: 18vh;
  height: 64vh;
  display: grid;
  place-items: center;
}

.k-procRail{
  position: relative;
  width: 30px;
  height: 100%;
  border-radius: 999px;

  opacity: 0;
  transform: translateY(6px);
  transition: opacity 220ms ease, transform 220ms cubic-bezier(.2,.9,.2,1);
}

.k-process.is-active .k-procRail{
  opacity: 1;
  transform: translateY(0);
}

/* faint base rail line */
.k-procRail::before{
  content:"";
  position:absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 1px;
  transform: translateX(-.5px);
  background: rgba(255,255,255,.16);
  opacity: .60;
}

/* permanent ink (progress) */
.k-procInk{
  position: absolute;
  left: 50%;
  top: 0;
  width: 1px;
  transform: translateX(-.5px);
  height: 0px;

  background:
    linear-gradient(to bottom,
      rgba(255,255,255,.00),
      rgba(255,255,255,.12) 18%,
      rgba(190,145,255,.30) 70%,
      rgba(255,190,245,.18)
    );

  opacity: .95;
}

/* reactive tail (speed-based) */
.k-procTail{
  --tailY: 0px;
  --tailH: 20px;

  position: absolute;
  left: 50%;
  top: 0;
  width: 3px;
  height: var(--tailH);

  transform: translate3d(-50%, var(--tailY), 0);
  border-radius: 999px;

  background:
    linear-gradient(to bottom,
      rgba(255,255,255,.00),
      rgba(255,255,255,.55),
      rgba(190,145,255,.55),
      rgba(255,190,245,.10)
    );

  filter: blur(.25px);
  opacity: 0; /* JS controls */
  pointer-events: none;
}

/* orb */
.k-procOrb{
  --y: 0px;

  position: absolute;
  left: 50%;
  top: 0;
  transform: translate3d(-50%, var(--y), 0);

  width: 16px;
  height: 16px;
  border-radius: 999px;

  background: rgba(10,10,14,.85);
  border: 1px solid rgba(255,255,255,.28);

  box-shadow:
    0 0 0 6px rgba(190,145,255,.12),
    0 18px 80px rgba(190,145,255,.20),
    0 0 24px rgba(255,255,255,.10);

  will-change: transform;
}

.k-procOrb::before{
  content:"";
  position:absolute;
  inset: 4px;
  border-radius: inherit;
  background: rgba(255,255,255,.92);
  box-shadow:
    0 0 10px rgba(255,255,255,.45),
    0 0 18px rgba(190,145,255,.35);
  opacity: .92;
}

@media (prefers-reduced-motion: reduce){
  .k-procRail,
  .k-procOrb{
    transition: none !important;
  }
}
